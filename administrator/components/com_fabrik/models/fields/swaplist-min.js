/*! Fabrik */
var SwapList=new Class({initialize:function(a,b,c,d,e,f){this.from=document.id(a),this.to=document.id(b),"null"!==typeOf(document.id(c))&&(document.id(c).addEvent("click",function(a){a.stop(),document.id("jform__createGroup0").checked=!0,this.addSelectedToList(this.from,this.to),this.delSelectedFromList(this.from)}.bind(this)),document.id(d).addEvent("click",function(a){a.stop(),this.addSelectedToList(this.to,this.from),this.delSelectedFromList(this.to)}.bind(this)),document.id(e).addEvent("click",function(a){a.stop(),this.moveInList(-1)}.bind(this)),document.id(f).addEvent("click",function(a){a.stop(),this.moveInList(1)}.bind(this)),document.id("adminForm").onsubmit=function(){return this.to.getElements("option").each(function(a){a.selected=!0}),!0}.bind(this))},addSelectedToList:function(a,b){var c,d=a.length,e=b.length,f="x";for(c=e-1;c>-1;c--)f+=","+b.options[c].value+",";for(c=0;d>c;c++)a.options[c].selected&&-1===f.indexOf(","+a.options[c].value+",")&&(opt=new Option(a.options[c].text,a.options[c].value),b.options[b.length]=opt)},delSelectedFromList:function(a){for(var b=a.length,c=b-1;c>-1;c--)a.options[c].selected&&(a.options[c]=null)},moveInList:function(a){var b=this.to,c=this.to.selectedIndex,d=b.options.length-1;if(-1===c)return!1;if(1===a&&c===d)return!1;if(-1===a&&0===c)return!1;var e=[],f=[];for(i=d;i>=0;i--)e[i]=b.options[i].text,f[i]=b.options[i].value;for(i=d;i>=0;i--)c===i?(b.options[i+a]=new Option(e[i],f[i],0,1),b.options[i]=new Option(e[i+a],f[i+a]),i--):b.options[i]=new Option(e[i],f[i]);return b.focus(),!0}});