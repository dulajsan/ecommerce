if(typeof akeeba=="undefined"){var akeeba={}}if(typeof akeeba.System=="undefined"){akeeba.System={};akeeba.System.notification={hasDesktopNotification:false,iconURL:""};akeeba.System.params={AjaxURL:"",useIFrame:false,errorCallback:akeeba.System.modalErrorHandler,iFrame:null,iFrameCallbackError:null,iFrameCallbackSuccess:null,password:"",errorDialogId:"errorDialog",errorDialogMessageId:"errorDialogPre"};akeeba.System.modalDialog=null}(function(a){akeeba.System.defaultErrorHandler=function(b){alert("An error has occurred\n"+b)};akeeba.System.modalErrorHandler=function(b){var c=a("#"+akeeba.System.params.errorDialogId);a("#"+akeeba.System.params.errorDialogMessageId).html(b);c.modal("show")};akeeba.System.doIframeCall=function(e,b,c){akeeba.System.params.iFrameCallbackSuccess=b;akeeba.System.params.iFrameCallbackError=c;akeeba.System.params.iFrame=document.createElement("iframe");a(akeeba.System.params.iFrame).css({display:"none",visibility:"hidden",height:"1px"}).attr("onload","akeeba.System.iframeCallback").insertAfter("#response-timer");var d=akeeba.System.params.AjaxURL+"&"+a.param(e);a(akeeba.System.params.iFrame).attr("src",d)};akeeba.System.iframeCallback=function(){var h=null;if(akeeba.System.params.iFrame.contentDocument){h=akeeba.System.params.iFrame.contentDocument}else{h=akeeba.System.params.iFrame.contentWindow.document}var g=h.body.innerHTML;a(akeeba.System.params.iFrame).remove();akeeba.System.params.iFrame=null;var f=null;var d="";var b=g.indexOf("###");if(b==-1){g="Invalid AJAX data: "+g;if(akeeba.System.params.iFrameCallbackError==null){if(akeeba.System.params.errorCallback!=null){akeeba.System.params.errorCallback(g)}}else{akeeba.System.params.iFrameCallbackError(g)}return}else{if(b!=0){f=g.substr(0,b);d=g.substr(b)}else{d=g}}d=d.substr(3);var b=d.lastIndexOf("###");d=d.substr(0,b);try{var e=JSON.parse(d)}catch(c){var g=c.message+"\n<br/>\n<pre>\n"+d+"\n</pre>";if(akeeba.System.params.iFrameCallbackError==null){if(akeeba.System.params.errorCallback!=null){akeeba.System.params.errorCallback(g)}}else{akeeba.System.params.iFrameCallbackError(g)}return}akeeba.System.params.iFrameCallbackSuccess(e)};akeeba.System.doAjax=function(f,d,g,b,j){if(akeeba.System.params.useIFrame){akeeba.System.doIframeCall(f,d,g);return}if(b==null){b=true}var c=new Date().getTime()/1000;var k=parseInt(c,10);var h=Math.round((c-k)*1000)/1000;f._cacheBustingJunk=h;if(j==null){j=600000}var e={type:"POST",url:akeeba.System.params.AjaxURL,cache:false,data:f,timeout:j,success:function(q){var p=null;var n="";var l=q.indexOf("###");if(l==-1){q=akeeba.System.sanitizeErrorMessage(q);q="Invalid AJAX data: "+q;if(g==null){if(akeeba.System.params.errorCallback!=null){akeeba.System.params.errorCallback(q)}}else{g(q)}return}else{if(l!=0){p=q.substr(0,l);n=q.substr(l)}else{n=q}}n=n.substr(3);var l=n.lastIndexOf("###");n=n.substr(0,l);try{var o=JSON.parse(n)}catch(m){n=akeeba.System.sanitizeErrorMessage(n);var q=m.message+"\n<br/>\n<pre>\n"+n+"\n</pre>";if(g==null){if(akeeba.System.params.errorCallback!=null){akeeba.System.params.errorCallback(q)}}else{g(q)}return}d(o)},error:function(l,p,n){var o=l.responseText?l.responseText:"";var m="<strong>AJAX Loading Error</strong><br/>HTTP Status: "+l.status+" ("+l.statusText+")<br/>";m=m+"Internal status: "+p+"<br/>";m=m+"XHR ReadyState: "+l.readyState+"<br/>";m=m+"Raw server response:<br/>"+akeeba.System.sanitizeErrorMessage(o);if(g==null){if(akeeba.System.params.errorCallback!=null){akeeba.System.params.errorCallback(m)}}else{g(m)}}};if(b){var i=window.jQuery.manageAjax;if(typeof i=="undefined"){i=a.manageAjax}if(typeof i=="undefined"){i=akeeba.jQuery.manageAjax}i.add("akeeba-ajax-profile",e)}else{akeeba.jQuery.ajax(e)}};akeeba.System.sanitizeErrorMessage=function(b){if(b.indexOf("<script")>-1){b="(HTML containing script tags)"}return b};akeeba.System.notification.askPermission=function(){if(!akeeba.System.notification.hasDesktopNotification){return}if(window.Notification==undefined){return}if(window.Notification.permission=="default"){window.Notification.requestPermission()}};akeeba.System.notification.notify=function(c,e,b){if(window.Notification==undefined){return}if(window.Notification.permission!="granted"){return}if(b==undefined){b=5000}if(e==undefined){body=""}var d=new window.Notification(c,{body:e,icon:akeeba.System.notification.iconURL});if(b>0){setTimeout(function(f){return function(){f.close()}}(d),b)}};a.extend(a.easing,{none:function(e,d,c,b,f){return c+b*e}});a(document).ready(function(){var b=window.jQuery.manageAjax;if(typeof b=="undefined"){var b=a.manageAjax}if(typeof b=="undefined"){var b=akeeba.jQuery.manageAjax}var c=b.create("akeeba_ajax_profile",{queue:true,abortOld:false,maxRequests:1,preventDoubbleRequests:false,cacheResponse:false})})}(akeeba.jQuery));